<div class="container">
  <h2 class="header">Authentication form</h2>
  <div class="wrapper">
    <form [formGroup]="authForm" (ngSubmit)="onSubmit()" class="auth-form">
      <div class="mb-3">
        <label for="email">Email</label>
        <input type="text" id="email" class="form-input" formControlName="email">
        <span class="text-danger" *ngIf="!authForm.get('email')!!.valid && authForm.get('email')!!.touched">
          <span *ngIf="authForm.get('email')!!.errors!!['required']">
            Email is required!
          </span>
        </span>
      </div>

      <div class="mb-3" *ngIf="!isLoginMode">
        <label for="username">Username</label>
        <input type="username" id="username" class="form-input" formControlName="username">
        <span class="text-danger mb-8" *ngIf="!authForm.get('username')!!.valid && authForm.get('username')!!.touched">
          <span *ngIf="authForm.get('username')!!.errors!!['required']">
            Username is required!
          </span>
        </span>
      </div>

      <div class="mb-3">
        <label for="password">Password</label>
        <input type="password" id="password" class="form-input" formControlName="password">
        <span class="text-danger" *ngIf="!authForm.get('password')!!.valid && authForm.get('password')!!.touched">
          <span *ngIf="authForm.get('password')!!.errors!!['required']">
            Password is required!
          </span>
          <span *ngIf="authForm.get('password')!!.errors!!['minlength']">
            Password should be at least 6 characters long
          </span>
        </span>
      </div>

      <p class="text-danger" *ngIf="error">{{ error }}</p>
      <p class="text-success">{{ registerMessage }}</p>

      <div class="mt-20">
        <div class="btn-group">
          <button class="btn" type="submit" [disabled]="!authForm.valid"
            *ngIf="isLoginMode">
            Login
          </button>

          <button class="btn" type="submit" [disabled]="!authForm.valid"
            *ngIf="!isLoginMode">
            Register
          </button>

          <button class="btn" type="button" (click)="onSwitchMode()">Switch to {{ isLoginMode ?
            'Register' : 'Login'}}</button>
        </div>
      </div>
    </form>
  </div>

</div>
